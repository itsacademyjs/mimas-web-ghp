(this["webpackJsonpmimas-web"]=this["webpackJsonpmimas-web"]||[]).push([[10],{256:function(e,t,n){"use strict";var a=n(12),i=(n(0),n(343)),c=n(257),s=n(6);t.a=Object(c.b)((function(e){var t=e.errorMessage,n=e.value||"";return Object(s.jsx)(i.a,Object(a.a)(Object(a.a)({},e),{},{onChange:function(t){e.setValue(t.currentTarget.value),e.onChange&&e.onChange(t)},value:n,error:Boolean(t),helperText:t}))}))},258:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return r}));var a=n(109),i=n(0),c=n(259),s=n(18),o=function(){var e,t=Object(s.h)(),n=new URLSearchParams(t.search),i={},o=Object(c.a)(n.entries());try{for(o.s();!(e=o.n()).done;){var l=Object(a.a)(e.value,2),r=l[0],d=l[1];i[r]=d}}catch(u){o.e(u)}finally{o.f()}return i},l=function(){var e=o(),t=Object(s.g)(),n=Object(s.h)(),c=Object(i.useState)(parseInt(e.page,10)||0),l=Object(a.a)(c,2),r=l[0],d=l[1],u=Object(i.useState)(parseInt(e.limit,10)||20),b=Object(a.a)(u,2),j=b[0],h=b[1];console.log(n);var p=Object(i.useCallback)((function(e,a){var i=new URLSearchParams(n.search);i.append("page",e.toString()),i.append("limit",a.toString()),t.push("".concat(n.pathname,"?").concat(i.toString()))}),[t,n.pathname,n.search]);return Object(i.useEffect)((function(){void 0!==e.page&&void 0!==e.limit||p(r,j)}),[p,r,e.page,e.limit,j]),"startDate"in e&&(e.startDate=new Date(Number(e.startDate))),"endDate"in e&&(e.endDate=new Date(Number(e.endDate))),{generateURL:p,query:e,page:r,setPage:d,rowsPerPage:j,setRowsPerPage:h}},r=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1];return{hover:n,onMouseEnter:Object(i.useCallback)((function(){c(!0)}),[]),onMouseLeave:Object(i.useCallback)((function(){c(!1)}),[])}}},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(28),i=a.d},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(93),i=n(229),c=n(230),s=n(6),o=Object(c.a)((function(e){return{container:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},image:{width:"auto",height:400},message:{fontSize:20,fontWeight:400,color:e.palette.text.secondary},action:{marginTop:24}}}));function l(e){var t=o(),n=e.message,c=e.actionText,l=e.actionHandler,r=e.action,d=e.image;return Object(s.jsxs)("div",{className:t.container,children:[Object(s.jsx)("img",{className:t.image,src:d,alt:""}),Object(s.jsx)(a.a,{className:t.message,children:n}),r&&Object(s.jsx)(i.a,{className:t.action,variant:"contained",size:"large",color:"secondary",onClick:l,children:c})]})}},335:function(e,t,n){"use strict";n.r(t);var a,i,c,s,o,l,r,d,u,b,j,h,p,g,m=n(12),O=n(109),v=n(261),f=n(0),x=n(230),C=n(240),y=n(241),N=n(242),k=n(342),S=n(331),I=n(93),w=n(229),T=n(232),D=n(18),L=n(336),z=n(330),R=n(348),$=n(113),E=n(189),q=n(231),P=n(233),W=n(234),_=n(235),A=n(40),U=n(6),M=Object(x.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper,height:312,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-end",borderRadius:e.shape.borderRadius,marginRight:e.spacing(2)},groups:{width:"100%"},group:{},listItemIcon:{minWidth:40},listItemText:{color:"white",fontSize:16}}})),Q=[{id:"general",children:[{id:"details",title:"Details",icon:"lightbulb",url:"/courses/:id/details"},{id:"audience",title:"Audience",icon:"person",url:"/courses/:id/audience"},{id:"pricing",title:"Pricing",icon:"monetization_on",url:"/courses/:id/pricing"},{id:"curriculum",title:"Curriculum",icon:"checklist",url:"/courses/:id/curriculum"},{id:"promotions",title:"Promotions",icon:"emoji_events",url:"/courses/:id/promotions"}]}],B=function(e){var t=e.id,n=M(),a=Object(D.h)(),i=Object(D.g)(),c=Object(A.a)(),s=function(e){var s,o=a.pathname===e.url;return Object(U.jsxs)(E.a,{button:!0,onClick:(e.id,s=e.url.replace(":id",t),function(){s.startsWith("/")?i.push(s):window.open(s)}),children:[Object(U.jsx)(q.a,{classes:{root:n.listItemIcon},children:Object(U.jsx)(T.a,{fontSize:"small",color:o?"secondary":void 0,children:e.icon})}),Object(U.jsx)(P.a,{primary:e.title,classes:{primary:n.listItemText},style:{color:o?c.palette.secondary.main:void 0}})]},e.id)};return Object(U.jsx)("div",{className:n.root,children:Object(U.jsx)("div",{className:n.groups,children:Q.map((function(e,t){return Object(U.jsxs)(f.Fragment,{children:[Object(U.jsx)(W.a,{component:"nav",className:n.group,children:e.children.map(s)}),t+1<Q.length&&Object(U.jsx)(_.a,{})]},e.id)}))})})},F=n(276),H=n(277),V=n(329),Y=n(346),G=n(339),J=n(238),K=n(293),X=n(257),Z=n(291),ee=n(256),te=Object.keys(Z.by639_1),ne=[{title:"Beginner",value:"beginner"},{title:"Intermediate",value:"intermediate"},{title:"Expert",value:"expert"},{title:"All Levels",value:"all_levels"}],ae=Object(x.a)((function(e){return{card:{width:700},content:{padding:e.spacing(2)},form:{display:"flex",flexDirection:"column"},title:{},subtitle:{marginTop:e.spacing(3)},description:{marginTop:e.spacing(3)},level:{marginTop:e.spacing(3)},languageCode:{marginTop:e.spacing(3)},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",padding:e.spacing(2)},action:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),width:128},actionIcon:{marginRight:e.spacing(1)},progress:{marginRight:e.spacing(1)}}})),ie=function(e){var t=e.updating,n=e.onUpdate,a=ae(),i=Object(f.useState)(""),c=Object(O.a)(i,2),s=c[0],o=c[1],l=Object(f.useState)(""),r=Object(O.a)(l,2),d=r[0],u=r[1],b=Object(f.useState)("beginner"),j=Object(O.a)(b,2),h=j[0],p=j[1],g=Object(f.useState)("en"),m=Object(O.a)(g,2),v=m[0],x=m[1],y=Object(f.useState)(!1),N=Object(O.a)(y,2),k=N[0],S=N[1],I=e.title!==s||e.description!==d||e.level!==h||e.languageCode!==v;Object(f.useEffect)((function(){o(e.title),u(e.description),p(e.level),x(e.languageCode)}),[e.description,e.languageCode,e.level,e.title]);var D=Object(f.useCallback)((function(e){o(e.target.value)}),[]),L=Object(f.useCallback)((function(e){u(e.target.value)}),[]),z=Object(f.useCallback)((function(e){p(e.target.value)}),[]),R=Object(f.useCallback)((function(e){x(e.target.value)}),[]),$=Object(f.useCallback)((function(){S(!0)}),[]),E=Object(f.useCallback)((function(){S(!1)}),[]),q=Object(f.useCallback)((function(){n({courseId:e.id,title:s,description:d,level:h,languageCode:v})}),[d,v,h,n,e.id,s]);return Object(U.jsxs)(F.a,{className:a.card,children:[Object(U.jsx)(H.a,{className:a.content,children:Object(U.jsxs)(X.a,{className:a.form,onValid:$,onInvalid:E,children:[Object(U.jsx)(ee.a,{name:"title",className:a.title,label:"Title",validations:{maxLength:504},validationErrors:{maxLength:"The title should not be longer than 504 characters"},variant:"outlined",size:"medium",value:s,onChange:D,required:!0}),Object(U.jsx)(ee.a,{name:"description",className:a.description,label:"Description",validations:{maxLength:1020},validationErrors:{maxLength:"The description should not be longer than 1024 characters"},variant:"outlined",size:"medium",multiline:!0,rows:10,value:d,onChange:L}),Object(U.jsxs)(V.a,{variant:"outlined",className:a.level,size:"medium",children:[Object(U.jsx)(Y.a,{id:"levelLabel",children:"Level"}),Object(U.jsx)(G.a,{labelId:"levelLabel",value:h,onChange:z,label:"Level",children:ne.map((function(e){return Object(U.jsx)(J.a,{value:e.value,children:e.title},e.title)}))})]}),Object(U.jsxs)(V.a,{variant:"outlined",className:a.languageCode,size:"medium",children:[Object(U.jsx)(Y.a,{id:"languageCodeLabel",children:"Language"}),Object(U.jsx)(G.a,{labelId:"languageCodeLabel",value:v,onChange:R,label:"Language",children:te.map((function(e){var t=Z.by639_1[e];return Object(U.jsx)(J.a,{value:e,children:t.name},e)}))})]})]})}),Object(U.jsx)(K.a,{className:a.actions,children:Object(U.jsxs)(w.a,{className:a.action,variant:"contained",color:"primary",disabled:!I||!k||t,onClick:q,children:[!t&&Object(U.jsx)(T.a,{className:a.actionIcon,fontSize:"small",children:"save"}),t&&Object(U.jsx)(C.a,{size:"16px",color:"inherit",className:a.progress}),"Save"]})})]})},ce=Object(x.a)((function(e){return{card:{width:700,padding:e.spacing(1)},content:{},question:{},form:{display:"flex",flexDirection:"column"},answer:{marginTop:e.spacing(1),marginBottom:e.spacing(4)},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%"},action:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),width:160},actionIcon:{marginRight:e.spacing(1)},progress:{marginRight:e.spacing(1)}}})),se=function(e){var t=e.id,n=e.updating,a=e.onUpdate,i=ce(),c=Object(f.useState)(""),s=Object(O.a)(c,2),o=s[0],l=s[1],r=Object(f.useState)(""),d=Object(O.a)(r,2),u=d[0],b=d[1],j=Object(f.useState)(""),h=Object(O.a)(j,2),p=h[0],g=h[1],m=Object(f.useState)(""),v=Object(O.a)(m,2),x=v[0],y=v[1],N=Object(f.useState)(!1),k=Object(O.a)(N,2),S=k[0],D=k[1];Object(f.useEffect)((function(){l(e.objectives),b(e.requirements),g(e.targets),y(e.resources)}),[e.objectives,e.requirements,e.resources,e.targets]);var L=Object(f.useCallback)((function(e){l(e.target.value)}),[]),z=Object(f.useCallback)((function(e){b(e.target.value)}),[]),R=Object(f.useCallback)((function(e){g(e.target.value)}),[]),$=Object(f.useCallback)((function(e){y(e.target.value)}),[]),E=Object(f.useCallback)((function(){D(!0)}),[]),q=Object(f.useCallback)((function(){D(!1)}),[]),P=Object(f.useCallback)((function(){a({courseId:t,requirements:u,objectives:o,targets:p,resources:x})}),[t,o,a,u,x,p]);return Object(U.jsxs)(F.a,{className:i.card,children:[Object(U.jsx)(H.a,{className:i.content,children:Object(U.jsxs)(X.a,{className:i.form,onValid:E,onInvalid:q,children:[Object(U.jsx)(I.a,{className:i.question,children:"What will students learn in your course?"}),Object(U.jsx)(ee.a,{name:"objectives",className:i.answer,validations:{maxLength:2048},validationErrors:{maxLength:"The objective should not be longer than 2048 characters"},variant:"outlined",size:"medium",value:o,onChange:L,multiline:!0,rows:5}),Object(U.jsx)(I.a,{className:i.question,children:"Are there any course requirements or prerequisites?"}),Object(U.jsx)(ee.a,{name:"requirements",className:i.answer,validations:{maxLength:2048},validationErrors:{maxLength:"The requirements should not be longer than 2048 characters"},variant:"outlined",size:"medium",value:u,onChange:z,multiline:!0,rows:5}),Object(U.jsx)(I.a,{className:i.question,children:"Who are your target students?"}),Object(U.jsx)(ee.a,{name:"objective",className:i.answer,validations:{maxLength:2048},validationErrors:{maxLength:"The targets should not be longer than 2048 characters"},variant:"outlined",size:"medium",value:p,onChange:R,multiline:!0,rows:5}),Object(U.jsx)(I.a,{className:i.question,children:"What resources will students have access to?"}),Object(U.jsx)(ee.a,{name:"objective",className:i.answer,validations:{maxLength:2048},validationErrors:{maxLength:"The resources should not be longer than 2048 characters"},variant:"outlined",size:"medium",value:x,onChange:$,multiline:!0,rows:5})]})}),Object(U.jsx)(K.a,{className:i.actions,children:Object(U.jsxs)(w.a,{className:i.action,variant:"contained",color:"primary",disabled:""===o||!S||n,onClick:P,children:[!n&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(T.a,{className:i.actionIcon,fontSize:"small",children:"save"}),"Save"]}),n&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(C.a,{size:"16px",color:"inherit",className:i.progress}),"Saving..."]})]})})]})},oe=n(79),le=n(294),re=n.n(le),de=Object(oe.a)(re.a.data).sort((function(e,t){return e.currency.localeCompare(t.currency)})).map((function(e){return e.code})),ue=Object(x.a)((function(e){return{card:{width:700},content:{padding:e.spacing(2)},form:{display:"flex",flexDirection:"column"},currencies:{},actualPrice:{marginTop:e.spacing(3)},discount:{marginTop:e.spacing(3)},discountedPrice:{marginTop:e.spacing(3)},currency:{marginTop:e.spacing(3)},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:"100%",padding:e.spacing(2)},action:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),width:128},actionIcon:{marginRight:e.spacing(1)},progress:{marginRight:e.spacing(1)}}})),be=function(e){var t=e.id,n=e.actualPrice,a=e.discountedPrice,i=e.onUpdate,c=e.updating,s=ue(),o=Object(f.useState)(0),l=Object(O.a)(o,2),r=l[0],d=l[1],u=Object(f.useState)(0),b=Object(O.a)(u,2),j=b[0],h=b[1],p=Object(f.useState)(0),g=Object(O.a)(p,2),m=g[0],v=g[1],x=Object(f.useState)("INR"),y=Object(O.a)(x,2),N=y[0],k=y[1],S=Object(f.useState)(!1),I=Object(O.a)(S,2),D=I[0],L=I[1],z=e.actualPrice!==r||e.discountedPrice!==m;Object(f.useEffect)((function(){d(n||0),v(a||9),h((n-a)/n*100||0)}),[n,a,e.actualPrice,e.discountedPrice]);var R=Object(f.useCallback)((function(e){var t=parseFloat(e.target.value)||0,n=t-t*j/100;d(t),v(n)}),[j]),$=Object(f.useCallback)((function(e){var t=parseFloat(e.target.value)||0,n=r-t/100*r;h(t),v(n)}),[r]),E=Object(f.useCallback)((function(e){var t=parseFloat(e.target.value)||0;h((r-t)/r*100),v(t)}),[r]),q=Object(f.useCallback)((function(e,t){k(t)}),[]),P=Object(f.useCallback)((function(){L(!0)}),[]),W=Object(f.useCallback)((function(){L(!1)}),[]),_=Object(f.useCallback)((function(){i({courseId:t,actualPrice:r,discountedPrice:m})}),[r,t,m,i]);return Object(U.jsxs)(F.a,{className:s.card,children:[Object(U.jsx)(H.a,{className:s.content,children:Object(U.jsxs)(X.a,{className:s.form,onValid:P,onInvalid:W,children:[Object(U.jsxs)(V.a,{variant:"outlined",className:s.currencies,size:"medium",required:!0,children:[Object(U.jsx)(Y.a,{id:"currencyLabel",children:"Currency"}),Object(U.jsx)(G.a,{labelId:"currencyLabel",value:N,onChange:q,label:"Currency",children:de.map((function(e,t){var n,a,i=re.a.code(e);return Object(U.jsxs)(J.a,{value:null!==(a=null===i||void 0===i?void 0:i.code)&&void 0!==a?a:t,children:[null===i||void 0===i?void 0:i.currency," (",null===i||void 0===i?void 0:i.code,")"]},null!==(n=null===i||void 0===i?void 0:i.code)&&void 0!==n?n:t)}))})]}),Object(U.jsx)(ee.a,{name:"actualPrice",className:s.actualPrice,label:"Actual Price",validations:{isNumeric:!0},validationErrors:{isNumeric:"Enter a valid price"},variant:"outlined",size:"medium",value:r,onChange:R,required:!0}),Object(U.jsx)(ee.a,{name:"discount",className:s.discount,label:"Discount",validations:{isNumeric:!0},validationErrors:{isNumeric:"Enter a valid discount"},variant:"outlined",size:"medium",value:j,onChange:$}),Object(U.jsx)(ee.a,{name:"discountedPrice",className:s.discountedPrice,label:"Discounted Price",validations:{isNumeric:!0},validationErrors:{isNumeric:"Enter a valid price"},variant:"outlined",size:"medium",value:m,onChange:E})]})}),Object(U.jsx)(K.a,{className:s.actions,children:Object(U.jsxs)(w.a,{className:s.action,variant:"contained",color:"primary",disabled:!z||!D||c,onClick:_,children:[!c&&Object(U.jsx)(T.a,{className:s.actionIcon,fontSize:"small",children:"save"}),c&&Object(U.jsx)(C.a,{size:"16px",color:"inherit",className:s.progress}),"Save"]})})]})},je=n(108),he=n(236),pe=n(283),ge=Object(x.a)((function(e){return{content:{padding:e.spacing(3)},chapter:{background:e.palette.background.paper,userSelect:"none",marginTop:e.spacing(2)},chapterHeader:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},chapterNumberIcon:{color:"white",marginRight:e.spacing(1)},chapterNumber:{color:"white",marginRight:e.spacing(2)},chapterTitle:{color:"white"},header:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},sectionNumberIcon:{marginRight:e.spacing(1)},sectionNumber:{fontSize:14,width:88},sectionTypeIcon:{marginRight:e.spacing(1)},sectionTitle:{fontSize:14,fontWeight:500},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginLeft:"auto"},dragIndicator:{width:20,height:20}}})),me={video:"smart_display",article:"article",quiz:"live_help",coding_excercise:"code",assignment:"assignment_turned_in"},Oe=function(e){var t=e.chapterId,n=e.sectionId,a=e.title,i=e.index,c=e.type,s=e.onDelete,o=e.onEdit,l=Object(f.useState)(!1),r=Object(O.a)(l,2),d=r[0],u=r[1],b=ge(),j=Object($.b)(),h=Object(f.useCallback)((function(){u(!0)}),[]),p=Object(f.useCallback)((function(){u(!1)}),[]),g=Object(f.useCallback)((function(){j({title:"Are you sure you want to delete the section?",description:'You cannot restore it once you delete. This action will permanently delete "'.concat(a,'", including its content.'),confirmationText:"Yes, I understand. Delete anyway.",confirmationButtonProps:{color:"secondary",variant:"contained"}}).then((function(){s(t,n)}))}),[j,a,s,t,n]),v=Object(f.useCallback)((function(){o(t,n)}),[t,o,n]);return Object(U.jsx)(pe.b,{draggableId:n,index:i,children:function(e,t){return Object(U.jsx)(F.a,Object(m.a)(Object(m.a)(Object(m.a)({elevation:0,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{className:b.chapter,style:Object(m.a)(Object(m.a)({},e.draggableProps.style),{},{opacity:t.isDragging?.7:1}),onMouseEnter:h,onMouseLeave:p,children:Object(U.jsx)(H.a,{className:b.content,children:Object(U.jsxs)("div",{className:b.header,children:[Object(U.jsx)(T.a,{fontSize:"small",className:b.sectionNumberIcon,children:"check_circle"}),Object(U.jsxs)(I.a,{className:b.sectionNumber,children:["Section ",i+1]}),Object(U.jsx)(T.a,{fontSize:"small",className:b.sectionTypeIcon,children:me[c]}),Object(U.jsx)(I.a,{className:b.sectionTitle,children:a}),Object(U.jsxs)("div",{className:b.actions,style:{visibility:d?"visible":"hidden"},children:[Object(U.jsx)(he.a,{size:"small",onClick:v,children:Object(U.jsx)(T.a,{fontSize:"small",children:"edit"})}),Object(U.jsx)(he.a,{size:"small",onClick:g,children:Object(U.jsx)(T.a,{fontSize:"small",children:"delete"})}),Object(U.jsx)(T.a,{fontSize:"small",className:b.dragIndicator,children:"drag_indicator"})]})]})})}))}})},ve=[{title:"Video",value:"video"},{title:"Article",value:"article"},{title:"Quiz",value:"quiz"},{title:"Coding Excercise",value:"coding_excercise"},{title:"Assignment",value:"assignment"}],fe=Object(x.a)((function(e){return{root:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",marginTop:e.spacing(4)},top:{},toolbar:{},toolbarContent:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},form:{display:"flex",flexDirection:"column"},title:{fontWeight:"bold",fontSize:20,maxWidth:800},type:{marginTop:e.spacing(2),width:320},description:{marginTop:e.spacing(2),maxWidth:800},action:{width:96,marginLeft:e.spacing(1)},actionIcon:{marginRight:e.spacing(1)},progress:{marginRight:e.spacing(1)}}})),xe=function(e){var t=e.onCancel,n=e.onSave,a=e.creating,i=fe(),c=Object(f.useState)(""),s=Object(O.a)(c,2),o=s[0],l=s[1],r=Object(f.useState)("article"),d=Object(O.a)(r,2),u=d[0],b=d[1],j=Object(f.useState)(!1),h=Object(O.a)(j,2),p=h[0],g=h[1],m=Object(f.useCallback)((function(e){l(e.target.value)}),[]),v=Object(f.useCallback)((function(e){b(e.target.value)}),[]),x=Object(f.useCallback)((function(){g(!0)}),[]),y=Object(f.useCallback)((function(){g(!1)}),[]),N=Object(f.useCallback)((function(){n({title:o,type:u})}),[n,o,u]);return Object(U.jsxs)("div",{className:i.root,children:[Object(U.jsx)("div",{className:i.top,children:Object(U.jsxs)(X.a,{className:i.form,onValid:x,onInvalid:y,children:[Object(U.jsx)(ee.a,{name:"title",className:i.title,label:"Title",validations:{minLength:8,maxLength:504},validationErrors:{minLength:"The title should have 8-504 characters",maxLength:"The title should have 8-504 characters"},variant:"outlined",size:"medium",value:o,onChange:m,required:!0,fullWidth:!0}),Object(U.jsxs)(V.a,{variant:"outlined",className:i.type,size:"medium",required:!0,children:[Object(U.jsx)(Y.a,{id:"typeLabel",children:"Type"}),Object(U.jsx)(G.a,{labelId:"typeLabel",value:u,onChange:v,label:"Type",children:ve.map((function(e){return Object(U.jsx)(J.a,{value:e.value,children:e.title},e.value)}))})]})]})}),Object(U.jsxs)("div",{className:i.actions,children:[Object(U.jsx)(w.a,{variant:"outlined",className:i.action,onClick:t,children:"Cancel"}),Object(U.jsxs)(w.a,{variant:"contained",className:i.action,disabled:!p||a,onClick:N,children:[a&&Object(U.jsx)(C.a,{size:"16px",color:"inherit",className:i.progress}),"Save"]})]})]})},Ce=n(258),ye=Object(x.a)((function(e){return{root:{maxWidth:736,background:e.palette.background.level2,padding:e.spacing(3),marginBottom:e.spacing(2),borderRadius:e.shape.borderRadius},sections:{width:"100%",borderRadius:e.shape.borderRadius},chapter:{background:e.palette.background.paper,userSelect:"none",padding:e.spacing(2),marginTop:e.spacing(2)},chapterHeader:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginBottom:e.spacing(4)},chapterNumberIcon:{color:"white",marginRight:e.spacing(1)},chapterNumber:{color:"white",marginRight:e.spacing(2)},chapterTitle:{color:"white"},secondaryActions:{display:"flex",justifyContent:"center",width:"100%"},newSection:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),marginTop:e.spacing(2),alignSelf:"center",borderRadius:e.shape.borderRadius},newSectionIcon:{color:"white",marginRight:e.spacing(1),fontSize:18},newSectionTitle:{color:"white",fontSize:14},header:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},details:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",marginLeft:"auto"},dragIndicator:{width:20,height:20,color:"white"}}})),Ne=function(e){var t=e.id,n=e.index,a=e.title,i=e.sections,c=e.onReorderSections,s=e.onEditChapter,o=e.onDeleteChapter,l=e.onSaveSection,r=e.onDeleteSection,d=e.onEdit,u=ye(),b=Object(Ce.a)(),j=b.hover,h=b.onMouseEnter,p=b.onMouseLeave,g=Object(f.useState)(!1),v=Object(O.a)(g,2),x=v[0],C=v[1],y=Object($.b)(),N=!1,k=Object(f.useRef)(!1);Object(f.useEffect)((function(){k.current&&C(!1),k.current=N}),[N]);var S=Object(f.useCallback)((function(e){if(e.destination){var n=function(e,t,n){var a=Array.from(e),i=a.splice(t,1),c=Object(O.a)(i,1)[0];return a.splice(n,0,c),a}(i||[],e.source.index,e.destination.index);console.log("before",i),console.log("after",n),c(t,n)}}),[t,c,i]),w=Object(f.useCallback)((function(){s(t)}),[t,s]),D=Object(f.useCallback)((function(){y({title:"Are you sure you want to delete the chapter?",description:'You cannot restore it once you delete. This action will permanently delete "'.concat(a,'", including its sections.'),confirmationText:"Yes, I understand. Delete anyway.",confirmationButtonProps:{color:"secondary",variant:"contained"}}).then((function(){o(t)}))}),[y,t,o,a]),L=Object(f.useCallback)((function(){C(!0)}),[C]),z=Object(f.useCallback)((function(){C(!1)}),[C]),R=Object(f.useCallback)((function(e){l(e,t)}),[t,l]);return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:u.root,children:[Object(U.jsx)("div",{className:u.chapterHeader,onMouseEnter:h,onMouseLeave:p,children:Object(U.jsxs)("div",{className:u.header,children:[Object(U.jsxs)("div",{className:u.details,children:[Object(U.jsx)(T.a,{fontSize:"small",className:u.chapterNumberIcon,children:"bookmark"}),Object(U.jsxs)(I.a,{className:u.chapterNumber,children:["Chapter ",n]}),Object(U.jsx)(T.a,{fontSize:"small",className:u.chapterNumberIcon,children:"topic"}),Object(U.jsx)(I.a,{className:u.chapterTitle,children:a})]}),Object(U.jsxs)("div",{className:u.actions,style:{visibility:j?"visible":"hidden"},children:[Object(U.jsx)(he.a,{size:"small",onClick:w,children:Object(U.jsx)(T.a,{fontSize:"small",children:"edit"})}),Object(U.jsx)(he.a,{size:"small",onClick:D,children:Object(U.jsx)(T.a,{fontSize:"small",children:"delete"})}),Object(U.jsx)(T.a,{fontSize:"small",className:u.dragIndicator,children:"drag_indicator"})]})]})}),Object(U.jsx)(pe.a,{onDragEnd:S,children:Object(U.jsx)(pe.c,{droppableId:"droppable",children:function(e,n){return Object(U.jsxs)("div",Object(m.a)(Object(m.a)({},e.droppableProps),{},{ref:e.innerRef,className:u.sections,children:[null===i||void 0===i?void 0:i.map((function(e,n){return Object(U.jsx)(Oe,{index:n,sectionId:e.id,chapterId:t,title:e.title,type:e.type,onDelete:r,onEdit:d},e.id)})),e.placeholder]}))}})}),x&&Object(U.jsx)(xe,{onCancel:z,onSave:R,creating:x&&N}),!x&&Object(U.jsx)("div",{className:u.secondaryActions,children:Object(U.jsxs)(je.a,{onClick:L,className:u.newSection,children:[Object(U.jsx)(T.a,{className:u.newSectionIcon,children:"add_circle"}),Object(U.jsx)(I.a,{className:u.newSectionTitle,children:"New Section"})]})})]})})},ke=n(254),Se=Object(x.a)((function(e){return{root:{width:800,display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"100vh"},toolbar:{backgroundColor:e.palette.background.level2},toolbarContent:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},top:{width:"100%",display:"flex",flexDirection:"column"},bottom:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:e.spacing(2)},form:{display:"flex",flexDirection:"column",marginTop:e.spacing(3),padding:e.spacing(2)},title:{fontWeight:"bold",fontSize:20},description:{marginTop:e.spacing(2)},type:{marginTop:e.spacing(2),width:320},action:{width:96,marginLeft:e.spacing(1)},progress:{marginRight:e.spacing(1)}}})),Ie=function(e){var t=e.id,n=e.open,a=e.onClose,i=e.onSave,c=Se(),s=Object(f.useState)(e.title||""),o=Object(O.a)(s,2),l=o[0],r=o[1],d=Object(f.useState)(e.description||""),u=Object(O.a)(d,2),b=u[0],j=u[1],h=Object(f.useState)(!1),p=Object(O.a)(h,2),g=p[0],m=p[1],v=Object(f.useRef)(!1),x=Object(f.useRef)(!1),C=!1,k=!1,S=!t||e.title!==l||e.description!==b;Object(f.useEffect)((function(){r(e.title||""),j(e.description||"")}),[e.title,e.description]),Object(f.useEffect)((function(){v.current&&a(),v.current=C}),[C,a]),Object(f.useEffect)((function(){x.current&&a(),x.current=k}),[k,a]);var T=Object(f.useCallback)((function(e){r(e.target.value)}),[]),D=Object(f.useCallback)((function(e){j(e.target.value)}),[]),L=Object(f.useCallback)((function(){m(!0)}),[]),z=Object(f.useCallback)((function(){m(!1)}),[]),R=Object(f.useCallback)((function(){i({chapterId:t,title:l,description:b})}),[b,t,i,l]);return Object(U.jsx)(ke.a,{anchor:"right",open:n,onClose:a,children:Object(U.jsxs)("div",{className:c.root,children:[Object(U.jsxs)("div",{className:c.top,children:[Object(U.jsx)(y.a,{position:"sticky",children:Object(U.jsx)(N.a,{className:c.toolbar,children:Object(U.jsx)("div",{className:c.toolbarContent,children:Object(U.jsx)(I.a,{className:c.title,children:t?"Edit Chapter":"New Chapter"})})})}),Object(U.jsxs)(X.a,{className:c.form,onValid:L,onInvalid:z,children:[Object(U.jsx)(ee.a,{name:"title",className:c.title,label:"Title",validations:{minLength:16,maxLength:504},validationErrors:{minLength:"The title should have 16-504 characters",maxLength:"The title should have 16-504 characters"},variant:"outlined",size:"medium",value:l,onChange:T,required:!0,fullWidth:!0}),Object(U.jsx)(ee.a,{name:"description",className:c.description,label:"Description",validations:{maxLength:1024},validationErrors:{maxLength:"The description cannot be longer than 1024 characters"},variant:"outlined",size:"medium",value:b,onChange:D,fullWidth:!0,multiline:!0,rows:10})]})]}),Object(U.jsxs)("div",{className:c.bottom,children:[Object(U.jsx)(w.a,{variant:"outlined",className:c.action,onClick:a,children:"Cancel"}),Object(U.jsxs)(w.a,{variant:"contained",className:c.action,disabled:!S||!g||k,onClick:R,children:[k,"Save"]})]})]})})},we=n(260),Te=n(264),De=Object(x.a)((function(e){return{root:{background:"transparent",width:"100%"},noRecords:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",height:"calc(100vh - 128px)",width:"100%"},secondaryActions:{display:"flex",justifyContent:"center",width:736},newChapter:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),marginTop:e.spacing(2),alignSelf:"center",borderRadius:e.shape.borderRadius},newChapterIcon:{color:"white",marginRight:e.spacing(1),fontSize:18},newChapterTitle:{color:"white",fontSize:14}}})),Le=function(e){var t,n=e.courseId,a=e.chapters,i=e.onUpdateChapter,c=e.onCreateChapter,s=e.onDeleteChapter,o=e.onCreateSection,l=e.onDeleteSection,r=De(),d=Object(f.useState)(!1),u=Object(O.a)(d,2),b=u[0],j=u[1],h=Object(f.useState)(null),p=Object(O.a)(h,2),g=p[0],v=p[1],x=Object(D.g)(),C=Object(we.a)((function(e){return e.session.payload})).firstName,y=Object(f.useCallback)((function(){v(null),j(!0)}),[]),N=Object(f.useCallback)((function(){j(!1)}),[]),k=Object(f.useCallback)((function(e){(e.chapterId?i:c)(Object(m.a)(Object(m.a)({},e),{},{courseId:n}))}),[n,c,i]),S=Object(f.useCallback)((function(e,t){i({chapterId:e,sections:t.map((function(e){return e.id}))})}),[i]),w=Object(f.useCallback)((function(e){var t=a.find((function(t){return t.id===e}))||null;v(t),j(!0)}),[a]),L=Object(f.useCallback)((function(e){s(e)}),[s]),z=Object(f.useCallback)((function(e,t){o(Object(m.a)(Object(m.a)({},e),{},{chapterId:t}))}),[o]),R=Object(f.useCallback)((function(e,t){l(e,t)}),[l]),$=Object(f.useCallback)((function(e,t){var i=a.find((function(t){return t.id===e})),c=null===i||void 0===i?void 0:i.sections.find((function(e){return e.id===t}));x.push("/courses/".concat(n,"/chapters/").concat(null===i||void 0===i?void 0:i.id,"/sections/").concat(c.id,"/edit"))}),[a,n,x]);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:r.root,children:[(null!==(t=a.length)&&void 0!==t?t:0)>0&&Object(U.jsxs)(U.Fragment,{children:[a.map((function(e,t){return Object(U.jsx)(Ne,{id:e.id,index:t+1,title:e.title,sections:e.sections,onReorderSections:S,onEditChapter:w,onDeleteChapter:L,onSaveSection:z,onDeleteSection:R,onEdit:$},e.id)})),Object(U.jsx)("div",{className:r.secondaryActions,children:Object(U.jsxs)(je.a,{onClick:y,className:r.newChapter,children:[Object(U.jsx)(T.a,{className:r.newChapterIcon,children:"add_circle"}),Object(U.jsx)(I.a,{className:r.newChapterTitle,children:"New Chapter"})]})})]}),0===a.length&&Object(U.jsx)("div",{className:r.noRecords,children:Object(U.jsx)(Te.a,{message:"Are you ready to create your first chapter, ".concat(C,"?"),actionText:"Create New Chapter",actionHandler:y,image:"".concat("","/assets/images/empty-articles.svg"),action:!0})})]}),Object(U.jsx)(Ie,{open:b,onClose:N,onSave:k,id:null===g||void 0===g?void 0:g.id,title:null===g||void 0===g?void 0:g.title,description:null===g||void 0===g?void 0:g.description})]})},ze=Object(x.a)((function(e){return{root:{width:440,display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"100vh",backgroundColor:e.palette.background.level1},top:{},toolbar:{backgroundColor:e.palette.background.level2},toolbarContent:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:e.spacing(2)},form:{padding:e.spacing(2),marginTop:e.spacing(2),display:"flex",flexDirection:"column"},title:{fontWeight:"bold",fontSize:20,maxWidth:800},name:{marginTop:e.spacing(2)},code:{marginTop:e.spacing(2)},discount:{marginTop:e.spacing(2)},duration:{marginTop:e.spacing(2)},maxRedemptions:{marginTop:e.spacing(2)},action:{width:96,marginLeft:e.spacing(1)},actionIcon:{marginRight:e.spacing(1)},progress:{marginRight:e.spacing(1)}}})),Re=[{title:"Three Months",value:"three_months"},{title:"Forever",value:"forever"}],$e=function(e){var t=e.id,n=e.open,a=e.onClose,i=e.onSave,c=ze(),s=Object(f.useState)(e.name||""),o=Object(O.a)(s,2),l=o[0],r=o[1],d=Object(f.useState)(e.code||""),u=Object(O.a)(d,2),b=u[0],j=u[1],h=Object(f.useState)(e.discount||0),p=Object(O.a)(h,2),g=p[0],m=p[1],v=Object(f.useState)(e.duration||"forever"),x=Object(O.a)(v,2),k=x[0],S=x[1],T=Object(f.useState)(e.active||!1),D=Object(O.a)(T,2),L=D[0],z=D[1],R=Object(f.useState)(e.maxRedemptions||1),$=Object(O.a)(R,2),E=$[0],q=$[1],P=Object(f.useState)(!1),W=Object(O.a)(P,2),_=W[0],A=W[1],M=Object(f.useRef)(!1),Q=Object(f.useRef)(!1),B={},F=B.creating,H=B.updating,K=!t||e.name!==l||e.code!==b||e.discount!==g||e.duration!==k||e.active!==L||e.maxRedemptions!==E;Object(f.useEffect)((function(){r(e.name||""),j(e.code||""),m(e.discount||0),S(e.duration||"forever"),z(e.active||!1),q(e.maxRedemptions||1)}),[e.active,e.code,e.discount,e.duration,e.maxRedemptions,e.name]),Object(f.useEffect)((function(){M.current&&!F&&a(),M.current=F}),[F,a]),Object(f.useEffect)((function(){Q.current&&!H&&a(),Q.current=H}),[H,a]);var Z=Object(f.useCallback)((function(e){r(e.target.value)}),[]),te=Object(f.useCallback)((function(e){j(e.target.value)}),[]),ne=Object(f.useCallback)((function(e){m(e.target.value)}),[]),ae=Object(f.useCallback)((function(e){S(e.target.value)}),[]),ie=(Object(f.useCallback)((function(e){z(e.target.value)}),[]),Object(f.useCallback)((function(e){q(parseInt(e.target.value,10)||1)}),[])),ce=Object(f.useCallback)((function(){A(!0)}),[]),se=Object(f.useCallback)((function(){A(!1)}),[]),oe=Object(f.useCallback)((function(){i({id:t,name:l,code:b,discount:g,duration:k,active:L,maxRedemptions:E})}),[L,b,g,k,t,E,l,i]);return Object(U.jsx)(ke.a,{anchor:"right",open:n,onClose:a,children:Object(U.jsxs)("div",{className:c.root,children:[Object(U.jsxs)("div",{className:c.top,children:[Object(U.jsx)(y.a,{position:"sticky",children:Object(U.jsx)(N.a,{className:c.toolbar,children:Object(U.jsx)("div",{className:c.toolbarContent,children:Object(U.jsx)(I.a,{className:c.title,children:t?"Edit Coupon":"New Coupon"})})})}),Object(U.jsxs)(X.a,{className:c.form,onValid:ce,onInvalid:se,children:[Object(U.jsx)(ee.a,{name:"name",className:c.name,label:"Name",validations:{minLength:4,maxLength:48},validationErrors:{minLength:"The name should have 4-48 characters",maxLength:"The name should have 4-48 characters"},variant:"outlined",size:"medium",value:l,onChange:Z,required:!0,fullWidth:!0}),Object(U.jsx)(ee.a,{name:"code",className:c.code,label:"Code",validations:{minLength:4,maxLength:16},validationErrors:{minLength:"The code should have 4-16 characters",maxLength:"The code should have 4-16 characters"},variant:"outlined",size:"medium",value:b,onChange:te,required:!0,fullWidth:!0}),Object(U.jsx)(ee.a,{name:"discount",className:c.discount,label:"Discount",validations:{isNumeric:!0},validationErrors:{isNumeric:"Enter a valid discount"},variant:"outlined",size:"medium",value:g,onChange:ne,required:!0,fullWidth:!0}),Object(U.jsxs)(V.a,{variant:"outlined",className:c.duration,size:"medium",required:!0,children:[Object(U.jsx)(Y.a,{id:"durationLabel",children:"Duration"}),Object(U.jsx)(G.a,{labelId:"durationLabel",value:k,onChange:ae,label:"Duration",children:Re.map((function(e){return Object(U.jsx)(J.a,{value:e.value,children:e.title},e.value)}))})]}),Object(U.jsx)(ee.a,{name:"maxRedemptions",className:c.maxRedemptions,label:"Max Redemptions",validations:{isInt:!0},validationErrors:{isInt:"Enter a valid redemption limit"},variant:"outlined",size:"medium",value:E,onChange:ie,required:!0,fullWidth:!0})]})]}),Object(U.jsxs)("div",{className:c.actions,children:[Object(U.jsx)(w.a,{variant:"outlined",className:c.action,onClick:a,children:"Cancel"}),Object(U.jsxs)(w.a,{variant:"contained",className:c.action,disabled:!K||!_||F||H,onClick:oe,children:[(F||H)&&Object(U.jsx)(C.a,{size:"16px",color:"inherit",className:c.progress}),"Save"]})]})]})})},Ee=Object(x.a)((function(){return{noRecords:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",height:"calc(100vh - 128px)"}}})),qe=function(){var e=Ee(),t=Object(we.a)((function(e){return e.session.payload})).firstName,n=Object(f.useState)(!1),a=Object(O.a)(n,2),i=a[0],c=a[1],s=Object(f.useCallback)((function(){c(!1)}),[]),o=Object(f.useCallback)((function(){c(!1)}),[]),l=Object(f.useCallback)((function(){c(!0)}),[c]);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:e.noRecords,children:Object(U.jsx)(Te.a,{message:"Are you ready to create your first coupon, ".concat(t,"?"),actionText:"Create New Coupon",actionHandler:l,image:"".concat("","/assets/images/empty-articles.svg"),action:!0})}),Object(U.jsx)($e,{open:i,onClose:s,onSave:o})]})},Pe=n(281),We=n(259),_e=n(278),Ae=n.n(_e),Ue=n(338),Me=n(340),Qe=Object(x.a)((function(e){return{option:{display:"flex",flexDirection:"row",justifyContent:"flex-start",marginTop:e.spacing(2)},left:{display:"flex",flexDirection:"row",justifyContent:"flex-start",marginRight:e.spacing(2)},right:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},optionCheckbox:{},optionText:{marginLeft:e.spacing(1),width:340},actionIcon:{fontSize:18}}})),Be=function(e){var t=e.text,n=e.correct,a=e.index,i=e.type,c=e.onNew,s=e.onDelete,o=e.onTextChange,l=e.onCorrectChange,r=Object(Ce.a)(),d=r.hover,u=r.onMouseEnter,b=r.onMouseLeave,j=Qe(),h=Object(f.useCallback)((function(){s&&s(a)}),[a,s]),p=Object(f.useCallback)((function(){c(a)}),[a,c]),g=Object(f.useCallback)((function(e){o(a,e.target.value)}),[a,o]),m=Object(f.useCallback)((function(e){l(a,e.target.checked)}),[a,l]),O="single_correct_option"===i?Ue.a:Me.a;return Object(U.jsxs)("div",{className:j.option,onMouseEnter:u,onMouseLeave:b,children:[Object(U.jsxs)("div",{className:j.left,children:[Object(U.jsx)(O,{onChange:m,checked:n,className:j.optionCheckbox}),Object(U.jsx)(ee.a,{name:"option-".concat(a),className:j.optionText,validations:{minLength:1,maxLength:504},validationErrors:{minLength:"The option should have 1-128 characters",maxLength:"The option should have 1-128 characters"},size:"medium",value:t,fullWidth:!0,placeholder:"Option ".concat(a+1),onChange:g})]}),d&&Object(U.jsxs)("div",{className:j.right,children:[s&&Object(U.jsx)(he.a,{onClick:h,children:Object(U.jsx)(T.a,{className:j.actionIcon,children:"delete"})}),Object(U.jsx)(he.a,{onClick:p,children:Object(U.jsx)(T.a,{className:j.actionIcon,children:"add_circle"})})]})]})},Fe=Object(x.a)((function(e){return{card:{marginTop:e.spacing(4),maxWidth:800},content:{},question:{},type:{marginTop:e.spacing(2),maxWidth:400},options:{marginTop:e.spacing(3)},actions:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}}})),He={text:"",correct:!1},Ve=function(e){var t=e.index,n=e.text,a=e.type,i=e.options,c=e.onTextChange,s=e.onTypeChange,o=e.onNew,l=e.onDuplicate,r=e.onDelete,d=e.onOptionsChange,u=Fe(),b=Object(f.useState)(!1),j=Object(O.a)(b,2),h=(j[0],j[1]),p=Object(f.useCallback)((function(){h(!0)}),[]),g=Object(f.useCallback)((function(){h(!1)}),[]),v=Object(f.useCallback)((function(e){c(t,e.target.value)}),[c,t]),x=Object(f.useCallback)((function(e){var n,a=Ae.a.cloneDeep(i),c=Object(We.a)(a);try{for(c.s();!(n=c.n()).done;){n.value.correct=!1}}catch(o){c.e(o)}finally{c.f()}s(t,e.target.value)}),[i,t,s]),C=Object(f.useCallback)((function(){o(t)}),[o,t]),y=Object(f.useCallback)((function(){l(t)}),[t,l]),N=Object(f.useCallback)((function(){r(t)}),[t,r]),k=Object(f.useCallback)((function(e,n){var a=Object(m.a)(Object(m.a)({},i[e]),{},{text:n}),c=Object(oe.a)(i);c[e]=a,d(t,c)}),[t,d,i]),S=Object(f.useCallback)((function(e,n){var c=Object(oe.a)(i);if("single_correct_option"===a){var s=i.findIndex((function(e){return e.correct}));if(s>=0){var o=Object(m.a)(Object(m.a)({},i[s]),{},{correct:!1});c[s]=o}}var l=Object(m.a)(Object(m.a)({},i[e]),{},{correct:n});c[e]=l,d(t,c)}),[t,d,i,a]),I=Object(f.useCallback)((function(e){var n=[].concat(Object(oe.a)(i.slice(0,e+1)),[He],Object(oe.a)(i.slice(e+1)));d(t,n)}),[t,d,i]),w=Object(f.useCallback)((function(e){var n=[].concat(Object(oe.a)(i.slice(0,e)),Object(oe.a)(i.slice(e+1)));d(t,n)}),[t,d,i]);return Object(U.jsxs)(F.a,{className:u.card,children:[Object(U.jsx)(H.a,{className:u.content,children:Object(U.jsxs)(X.a,{onValid:p,onInvalid:g,children:[Object(U.jsxs)("div",{className:u.header,children:[Object(U.jsx)(ee.a,{name:"question",className:u.question,label:"Question",validations:{minLength:8,maxLength:504},validationErrors:{minLength:"The question should have 8-504 characters",maxLength:"The question should have 8-504 characters"},variant:"outlined",size:"medium",value:n,onChange:v,required:!0,fullWidth:!0,multiline:!0,minRows:1}),Object(U.jsxs)(V.a,{variant:"outlined",className:u.type,fullWidth:!0,children:[Object(U.jsx)(Y.a,{id:"type",children:"Type"}),Object(U.jsxs)(G.a,{labelId:"type",value:a,onChange:x,label:"Type",children:[Object(U.jsx)(J.a,{value:"single_correct_option",children:"Single Correct Option"}),Object(U.jsx)(J.a,{value:"multiple_correct_options",children:"Multiple Correct Options"})]})]})]}),Object(U.jsx)("div",{className:u.options,children:i.map((function(e,t){return Object(U.jsx)(Be,{index:t,type:a,text:e.text,correct:e.correct,onDelete:i.length>2&&w||void 0,onNew:I,onTextChange:k,onCorrectChange:S},t)}))})]})}),Object(U.jsxs)(K.a,{disableSpacing:!0,className:u.actions,children:[Object(U.jsx)(he.a,{onClick:C,children:Object(U.jsx)(T.a,{fontSize:"small",children:"add_circle"})}),Object(U.jsx)(he.a,{onClick:y,children:Object(U.jsx)(T.a,{fontSize:"small",children:"content_copy"})}),Object(U.jsx)(he.a,{onClick:N,children:Object(U.jsx)(T.a,{fontSize:"small",children:"delete"})})]})]})},Ye=Object(x.a)((function(e){return{root:{maxWidth:800},title:{},description:{marginTop:e.spacing(2)},actions:{marginTop:e.spacing(2),width:"100%",display:"flex",justifyContent:"flex-end",flexDirection:"row"},action:{width:128,marginTop:e.spacing(2)},actionIcon:{marginRight:e.spacing(1)},progress:{marginRight:e.spacing(1)},secondaryActions:{display:"flex",justifyContent:"center",width:"100%"},newQuestion:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),marginTop:e.spacing(2),alignSelf:"center",borderRadius:e.shape.borderRadius},newQuestionIcon:{color:"white",marginRight:e.spacing(1),fontSize:18},newQuestionTitle:{color:"white",fontSize:14}}})),Ge={text:"",type:"single_correct_option",options:[{text:"",correct:!0},{text:"",correct:!1}]},Je=function(e){var t=e.onSave,n=e.updating,a=Ye(),i=Object(f.useState)(""),c=Object(O.a)(i,2),s=c[0],o=c[1],l=Object(f.useState)(""),r=Object(O.a)(l,2),d=r[0],u=r[1],b=Object(f.useState)([Ge]),j=Object(O.a)(b,2),h=j[0],p=j[1],g=Object(f.useState)(!1),m=Object(O.a)(g,2),v=m[0],x=m[1];Object(f.useEffect)((function(){u(e.description),o(e.title),p(e.questions)}),[e.description,e.title,e.questions]);var y=Object(f.useCallback)((function(e){o(e.target.value)}),[]),N=Object(f.useCallback)((function(e){u(e.target.value)}),[]),k=Object(f.useCallback)((function(){x(!0)}),[]),S=Object(f.useCallback)((function(){x(!1)}),[]),D=Object(f.useCallback)((function(e,t){var n=Ae.a.cloneDeep(h[e]);n.text=t;var a=Object(oe.a)(h);a[e]=n,p(a)}),[h,p]),L=Object(f.useCallback)((function(e,t){var n=Ae.a.cloneDeep(h[e]);n.type=t;var a,i=Object(We.a)(n.options);try{for(i.s();!(a=i.n()).done;){a.value.correct=!1}}catch(s){i.e(s)}finally{i.f()}n.options[0].correct=!0;var c=Object(oe.a)(h);c[e]=n,p(c)}),[h,p]),z=Object(f.useCallback)((function(e,t){var n=Ae.a.cloneDeep(h[e]);n.options=t;var a=Object(oe.a)(h);a[e]=n,p(a)}),[h,p]),R=Object(f.useCallback)((function(e){var t=[].concat(Object(oe.a)(h.slice(0,e+1)),[Ge],Object(oe.a)(h.slice(e+1)));p(t)}),[h]),$=Object(f.useCallback)((function(e){var t=Ae.a.cloneDeep(h[e]),n=[].concat(Object(oe.a)(h.slice(0,e+1)),[t],Object(oe.a)(h.slice(e+1)));p(n)}),[h]),E=Object(f.useCallback)((function(e){var t=[].concat(Object(oe.a)(h.slice(0,e)),Object(oe.a)(h.slice(e+1)));p(t)}),[h]),q=Object(f.useCallback)((function(){R(0)}),[R]),P=Object(f.useCallback)((function(){t(s,d,h)}),[d,t,h,s]),W=e.title!==s||e.description!==d||!Ae.a.isEqual(e.questions,h);return Object(U.jsxs)("div",{className:a.root,children:[Object(U.jsx)(F.a,{children:Object(U.jsx)(H.a,{children:Object(U.jsxs)(X.a,{onValid:k,onInvalid:S,children:[Object(U.jsx)(ee.a,{name:"title",className:a.title,label:"Title",validations:{minLength:8,maxLength:504},validationErrors:{minLength:"The title should have 8-504 characters",maxLength:"The title should have 8-504 characters"},variant:"outlined",size:"medium",value:s,onChange:y,required:!0,fullWidth:!0}),Object(U.jsx)(ee.a,{name:"description",className:a.description,label:"Description",validations:{maxLength:1024},validationErrors:{maxLength:"The description cannot be longer than 1024 characters"},variant:"outlined",size:"medium",value:d,onChange:N,fullWidth:!0,multiline:!0,rows:5})]})})}),h.map((function(e,t){return Object(U.jsx)(Ve,{index:t,text:e.text,type:e.type,options:e.options,onTextChange:D,onTypeChange:L,onOptionsChange:z,onNew:R,onDuplicate:$,onDelete:E})})),0===h.length&&Object(U.jsx)("div",{className:a.secondaryActions,children:Object(U.jsxs)(w.a,{onClick:q,className:a.newQuestion,children:[Object(U.jsx)(T.a,{className:a.newQuestionIcon,children:"add_circle"}),Object(U.jsx)(I.a,{className:a.newQuestionTitle,children:"New Question"})]})}),Object(U.jsx)("div",{className:a.actions,children:Object(U.jsxs)(w.a,{variant:"contained",className:a.action,disabled:!W||!v||n,onClick:P,children:[n&&Object(U.jsx)(C.a,{size:"16px",color:"inherit",className:a.progress}),!n&&Object(U.jsx)(T.a,{className:a.actionIcon,children:"save"}),"Save"]})})]})},Ke=n(347),Xe=n(353),Ze=n(341),et=Object(x.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyExercise:"flex-start",width:"100%",maxWidth:800},title:{},description:{marginTop:e.spacing(2)},exercise:{width:"100%",marginTop:e.spacing(2)},exerciseOption:{flexDirection:"row",display:"flex",paddingTop:4,paddingBottom:4},exerciseTexts:{display:"flex",flexDirection:"column",marginLeft:16},exerciseOptionHandle:{fontSize:14,fontWeight:"bold"},exerciseOptionTitle:{fontSize:12},exerciseTitle:{marginTop:e.spacing(4),fontWeight:"bold",fontSize:16},exerciseDescription:{marginTop:e.spacing(2)},testListItem:{marginTop:e.spacing(1)},exerciseTag:{marginLeft:e.spacing(1)},actions:{marginTop:e.spacing(4),width:"100%",display:"flex",justifyExercise:"flex-end",flexDirection:"row"},action:{width:128},actionIcon:{marginRight:e.spacing(1)},progress:{marginRight:e.spacing(1)}}})),tt=Object(L.a)(a||(a=Object(v.a)(["\n    query GetTestSuites($search: String) {\n        getTestSuites(search: $search) {\n            records {\n                id\n                handle\n                title\n                description\n                tags\n                tests {\n                    id\n                    title\n                    description\n                }\n            }\n        }\n    }\n"]))),nt=function(e){var t=e.onSave,n=e.updating,a=et(),i=Object(f.useState)(!1),c=Object(O.a)(i,2),s=c[0],o=c[1],l=Object(f.useState)(""),r=Object(O.a)(l,2),d=r[0],u=r[1],b=Object(f.useState)(null),j=Object(O.a)(b,2),h=j[0],p=j[1],g=Object(f.useState)(""),v=Object(O.a)(g,2),x=v[0],y=v[1],N=Object(f.useState)(""),k=Object(O.a)(N,2),S=k[0],D=k[1],L=Object(f.useState)(!1),R=Object(O.a)(L,2),$=R[0],E=R[1],q=Object(z.a)(tt),P=Object(O.a)(q,2),W=P[0],_=P[1],A=_.loading,M=(_.error,_.data),Q=_.previousData;console.log(null===M||void 0===M?void 0:M.getTestSuites);var B=(null===e||void 0===e?void 0:e.title)!==d||(null===e||void 0===e?void 0:e.exercise)!==h||(null===e||void 0===e?void 0:e.description)!==x;Object(f.useEffect)((function(){u(e.title||""),y(e.description||""),p(e.exercise||null)}),[e.exercise,e.description,e.title]);var F=Object(f.useCallback)((function(e){u(e.target.value)}),[]),H=Object(f.useCallback)((function(e){y(e.target.value)}),[]),V=Object(f.useCallback)((function(){o(!0)}),[]),Y=Object(f.useCallback)((function(){o(!1)}),[]),G=Object(f.useCallback)((function(){var e;t(d,x,null!==(e=null===h||void 0===h?void 0:h.id)&&void 0!==e?e:null)}),[null===h||void 0===h?void 0:h.id,t,d,x]),J=Object(f.useCallback)((function(e){D(e.target.value),W({variables:{search:e.target.value}})}),[W]),K=function(e,t){p(t)},Z=Object(Xe.a)({matchFrom:"any",ignoreAccents:!0,ignoreCase:!0,stringify:function(e){return e.handle}}),te=Object(f.useCallback)((function(){E((function(e){return!e}))}),[]),ne=Object(f.useCallback)((function(e){return Object(U.jsx)("div",{className:a.exerciseOption,children:Object(U.jsxs)("div",{className:a.exerciseTexts,children:[Object(U.jsx)("span",{className:a.exerciseOptionHandle,children:e.handle}),Object(U.jsx)("span",{className:a.exerciseOptionTitle,children:e.title})]})})}),[a.exerciseOption,a.exerciseOptionHandle,a.exerciseOptionTitle,a.exerciseTexts]),ae=Object(f.useCallback)((function(e){return Object(U.jsx)(ee.a,Object(m.a)(Object(m.a)({name:"exercise"},e),{},{label:"Exercise",variant:"outlined",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{endAdornment:Object(U.jsxs)(f.Fragment,{children:[A?Object(U.jsx)(C.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),value:S,onChange:J}))}),[A,J,S]),ie=Object(f.useCallback)((function(e,t){return e.id===t.id}),[]),ce=Object(f.useCallback)((function(e){return e.handle||"<unavailable>"}),[]);return Object(U.jsxs)("div",{className:a.root,children:[Object(U.jsxs)(X.a,{onValid:V,onInvalid:Y,children:[Object(U.jsx)(ee.a,{name:"title",className:a.title,label:"Title",validations:{minLength:8,maxLength:504},validationErrors:{minLength:"The title should have 8-504 characters",maxLength:"The title should have 8-504 characters"},variant:"outlined",size:"medium",value:d,onChange:F,required:!0,fullWidth:!0}),Object(U.jsx)(ee.a,{name:"description",className:a.description,label:"Description",validations:{maxLength:1024},validationErrors:{maxLength:"The description cannot be longer than 1024 characters"},variant:"outlined",size:"medium",value:x,onChange:H,fullWidth:!0,multiline:!0,rows:5}),function(){var e,t,n,i,c;return Object(U.jsx)(Ze.a,{filterOptions:Z,open:$,onOpen:te,onClose:te,renderOption:ne,className:a.exercise,options:null!==(e=null!==(t=null===M||void 0===M||null===(n=M.getTestSuites)||void 0===n?void 0:n.records)&&void 0!==t?t:null===Q||void 0===Q||null===(i=Q.getTestSuites)||void 0===i?void 0:i.records)&&void 0!==e?e:[],loading:!(null===Q||void 0===Q||null===(c=Q.getTestSuites)||void 0===c?void 0:c.records)&&A,renderInput:ae,getOptionSelected:ie,getOptionLabel:ce,value:h,onChange:K})}(),h&&function(){var e,t;return Object(U.jsxs)("div",{style:{color:"white"},children:[Object(U.jsx)(I.a,{className:a.exerciseTitle,children:null!==(e=null===h||void 0===h?void 0:h.title)&&void 0!==e?e:"<invalid_title>"}),Object(U.jsx)(I.a,{className:a.exerciseDescription,children:null!==(t=null===h||void 0===h?void 0:h.description)&&void 0!==t?t:"<invalid_description>"}),Object(U.jsx)("ul",{children:null===h||void 0===h?void 0:h.tests.map((function(e){return Object(U.jsx)("li",{className:a.testListItem,children:Object(U.jsxs)("div",{children:[Object(U.jsx)(I.a,{children:e.title}),Object(U.jsx)(I.a,{children:e.description})]})})}))}),null===h||void 0===h?void 0:h.tags.map((function(e){return Object(U.jsx)(Ke.a,{label:e,className:a.exerciseTag})}))]})}()]}),Object(U.jsx)("div",{className:a.actions,children:Object(U.jsxs)(w.a,{variant:"contained",className:a.action,disabled:!B||!s||n,onClick:G,children:[n&&Object(U.jsx)(C.a,{size:"16px",color:"inherit",className:a.progress}),!n&&Object(U.jsx)(T.a,{className:a.actionIcon,children:"save"}),"Save"]})})]})},at=Object(x.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"flex-start",width:"100%",maxWidth:800},title:{},description:{marginTop:e.spacing(2)},content:{marginTop:e.spacing(2)},contentTextArea:{resize:"vertical",minHeight:400,width:"100%"},actions:{marginTop:e.spacing(2),width:"100%",display:"flex",justifyContent:"flex-end",flexDirection:"row"},action:{width:128},actionIcon:{marginRight:e.spacing(1)},progress:{marginRight:e.spacing(1)}}})),it=function(e){var t=e.onSave,n=e.updating,a=at(),i=Object(f.useState)(!1),c=Object(O.a)(i,2),s=c[0],o=c[1],l=Object(f.useState)(""),r=Object(O.a)(l,2),d=r[0],u=r[1],b=Object(f.useState)(""),j=Object(O.a)(b,2),h=j[0],p=j[1],g=Object(f.useState)(""),m=Object(O.a)(g,2),v=m[0],x=m[1],y=(null===e||void 0===e?void 0:e.title)!==d||(null===e||void 0===e?void 0:e.content)!==h||(null===e||void 0===e?void 0:e.description)!==v;Object(f.useEffect)((function(){u(e.title||""),x(e.description||""),p(e.content||"")}),[e.content,e.description,e.title]);var N=Object(f.useCallback)((function(e){u(e.target.value)}),[]),k=Object(f.useCallback)((function(e){x(e.target.value)}),[]),S=Object(f.useCallback)((function(e){p(e.target.value)}),[]),I=Object(f.useCallback)((function(){o(!0)}),[]),D=Object(f.useCallback)((function(){o(!1)}),[]),L=Object(f.useCallback)((function(){t(d,v,h)}),[v,t,h,d]);return Object(U.jsxs)("div",{className:a.root,children:[Object(U.jsxs)(X.a,{onValid:I,onInvalid:D,children:[Object(U.jsx)(ee.a,{name:"title",className:a.title,label:"Title",validations:{minLength:8,maxLength:504},validationErrors:{minLength:"The title should have 8-504 characters",maxLength:"The title should have 8-504 characters"},variant:"outlined",size:"medium",value:d,onChange:N,required:!0,fullWidth:!0}),Object(U.jsx)(ee.a,{name:"description",className:a.description,label:"Description",validations:{maxLength:1024},validationErrors:{maxLength:"The description cannot be longer than 1024 characters"},variant:"outlined",size:"medium",value:v,onChange:k,fullWidth:!0,multiline:!0,rows:5}),Object(U.jsx)(ee.a,{name:"content",className:a.content,label:"Content",validations:{maxLength:10240},validationErrors:{maxLength:"The article content cannot be longer than 10240 characters"},variant:"outlined",size:"medium",value:h,onChange:S,fullWidth:!0,multiline:!0,inputProps:{className:a.contentTextArea}})]}),Object(U.jsx)("div",{className:a.actions,children:Object(U.jsxs)(w.a,{variant:"contained",className:a.action,disabled:!y||!s||n,onClick:L,children:[n&&Object(U.jsx)(C.a,{size:"16px",color:"inherit",className:a.progress}),!n&&Object(U.jsx)(T.a,{className:a.actionIcon,children:"save"}),"Save"]})})]})},ct=Object(x.a)((function(e){return{secondaryRoot:{width:"100%",height:"calc(100vh - 136px)",display:"flex",justifyContent:"center",alignItems:"center"},errorMessage:{textAlign:"center",color:"white",fontSize:20,maxWidth:600}}})),st=Object(L.a)(i||(i=Object(v.a)(["\n    query GetSection($sectionId: ID!) {\n        getSectionById(sectionId: $sectionId) {\n            id\n            title\n            type\n            description\n            content\n            questions {\n                text\n                type\n                options {\n                    text\n                    correct\n                }\n            }\n            exercise {\n                id\n                title\n                description\n                handle\n                tags\n                tests {\n                    id\n                    title\n                    description\n                }\n            }\n        }\n    }\n"]))),ot=Object(L.a)(c||(c=Object(v.a)(["\n    mutation UpdateSection(\n        $sectionId: ID!\n        $title: String\n        $description: String\n        $content: String\n        $questions: [QuestionInput!]\n        $exercise: ID\n    ) {\n        updateSection(\n            sectionId: $sectionId\n            title: $title\n            description: $description\n            content: $content\n            questions: $questions\n            exercise: $exercise\n        ) {\n            id\n        }\n    }\n"]))),lt=function(){var e,t=ct(),n=Object(D.i)(),a=Object(Pe.a)(st,{variables:{sectionId:n.sectionId}}),i=a.loading,c=(a.error,a.data),s=Object(R.a)(ot,{refetchQueries:[st]}),o=Object(O.a)(s,2),l=o[0],r=o[1],d=r.loading,u=(r.error,(null===c||void 0===c?void 0:c.getSectionById)||{}),b=Object(f.useCallback)((function(e,t,n){l({variables:{sectionId:null===u||void 0===u?void 0:u.id,title:e,description:t,content:n}})}),[null===u||void 0===u?void 0:u.id,l]),j=Object(f.useCallback)((function(e,t,n){console.log(n),l({variables:{sectionId:null===u||void 0===u?void 0:u.id,title:e,description:t,exercise:n}})}),[null===u||void 0===u?void 0:u.id,l]),h=Object(f.useCallback)((function(e,t,n){l({variables:{sectionId:null===u||void 0===u?void 0:u.id,title:e,description:t,questions:n.map((function(e){return{text:e.text,type:e.type,options:e.options.map((function(e){return{text:e.text,correct:e.correct}}))}}))}})}),[null===u||void 0===u?void 0:u.id,l]);return"quiz"===u.type?Object(U.jsx)(Je,{title:null===u||void 0===u?void 0:u.title,description:null===u||void 0===u?void 0:u.description,questions:null===u||void 0===u?void 0:u.questions,updating:d,onSave:h}):"coding_excercise"===u.type?Object(U.jsx)(nt,{title:null===u||void 0===u?void 0:u.title,description:null===u||void 0===u?void 0:u.description,exercise:null===u||void 0===u?void 0:u.exercise,updating:d,onSave:j}):"article"===u.type?Object(U.jsx)(it,{title:null===u||void 0===u?void 0:u.title,description:null===u||void 0===u?void 0:u.description,content:null===u||void 0===u?void 0:u.content,updating:d,onSave:b}):i?Object(U.jsx)("div",{className:t.secondaryRoot,children:Object(U.jsx)(C.a,{})}):Object(U.jsx)("div",{className:t.secondaryRoot,children:Object(U.jsxs)(I.a,{className:t.errorMessage,children:['Error: Invalid section type "',null!==(e=null===u||void 0===u?void 0:u.type)&&void 0!==e?e:"invalid_state",'". Please contact the administrator for further assitance.']})})},rt=Object(x.a)((function(e){return{suspense:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:e.palette.background.default,width:"100%"},root:{minHeight:"100vh",backgroundColor:e.palette.background.default,width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-start"},top:{},bottom:{display:"flex",flexDirection:"row",justifyContent:"flex-start",padding:e.spacing(4)},content:{},title:{fontWeight:"bold",fontSize:20},description:{marginTop:e.spacing(2),fontWeight:400},toolbar:{backgroundColor:e.palette.background.level2},toolbarContent:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},toolbarActions:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},action:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),marginLeft:e.spacing(1)},actionIcon:{marginRight:e.spacing(1)},toolbarTitle:{fontWeight:"bold",fontSize:20,maxWidth:800},link:{cursor:"pointer"},navigation:{width:260},container:{flexGrow:1,paddingLeft:e.spacing(5),paddingRight:e.spacing(5)}}})),dt=Object(L.a)(s||(s=Object(v.a)(["\n    query GetCourse($courseId: ID!) {\n        getCourseById(courseId: $courseId) {\n            id\n            title\n            description\n            level\n            languageCode\n            status\n            objectives\n            requirements\n            targets\n            resources\n            actualPrice\n            discountedPrice\n            chapters {\n                id\n                title\n                sections {\n                    id\n                    type\n                    title\n                }\n            }\n        }\n    }\n"]))),ut=Object(L.a)(o||(o=Object(v.a)(["\n    mutation CreateEmptyCourse {\n        createCourse {\n            id\n        }\n    }\n"]))),bt=Object(L.a)(l||(l=Object(v.a)(["\n    mutation UpdateCourse(\n        $courseId: ID!\n        $title: String\n        $description: String\n        $level: CourseLevel\n        $imageURL: String\n        $languageCode: Language\n        $linear: Boolean\n        $actualPrice: Float\n        $discountedPrice: Float\n        $requirements: String\n        $objectives: String\n        $targets: String\n        $resources: String\n        $chapters: [String!]\n    ) {\n        updateCourse(\n            courseId: $courseId\n            title: $title\n            description: $description\n            level: $level\n            imageURL: $imageURL\n            languageCode: $languageCode\n            linear: $linear\n            actualPrice: $actualPrice\n            discountedPrice: $discountedPrice\n            requirements: $requirements\n            objectives: $objectives\n            targets: $targets\n            chapters: $chapters\n            resources: $resources\n        ) {\n            id\n            title\n            description\n            level\n            imageURL\n            languageCode\n            linear\n            actualPrice\n            discountedPrice\n            requirements\n            objectives\n            targets\n            chapters {\n                id\n            }\n            resources\n        }\n    }\n"]))),jt=Object(L.a)(r||(r=Object(v.a)(["\n    mutation PublishCourse($courseId: ID!) {\n        publishCourse(courseId: $courseId) {\n            status\n        }\n    }\n"]))),ht=Object(L.a)(d||(d=Object(v.a)(["\n    mutation DeleteCourse($courseId: ID!) {\n        deleteCourse(courseId: $courseId)\n    }\n"]))),pt=Object(L.a)(u||(u=Object(v.a)(["\n    mutation UnpublishCourse($courseId: ID!) {\n        unpublishCourse(courseId: $courseId) {\n            status\n        }\n    }\n"]))),gt=Object(L.a)(b||(b=Object(v.a)(["\n    mutation CreateChapter(\n        $title: String\n        $courseId: String!\n        $description: String\n        $sections: [String!]\n    ) {\n        createChapter(\n            title: $title\n            course: $courseId\n            description: $description\n            sections: $sections\n        ) {\n            id\n        }\n    }\n"]))),mt=Object(L.a)(j||(j=Object(v.a)(["\n    mutation UpdateChapter(\n        $chapterId: ID!\n        $title: String\n        $description: String\n        $sections: [String!]\n    ) {\n        updateChapter(\n            chapterId: $chapterId\n            title: $title\n            description: $description\n            sections: $sections\n        ) {\n            id\n        }\n    }\n"]))),Ot=Object(L.a)(h||(h=Object(v.a)(["\n    mutation DeleteChapter($chapterId: ID!) {\n        deleteChapter(chapterId: $chapterId)\n    }\n"]))),vt=Object(L.a)(p||(p=Object(v.a)(["\n    mutation CreateSection(\n        $chapterId: ID!\n        $title: String\n        $type: SectionType!\n        $description: String\n    ) {\n        createSection(\n            chapter: $chapterId\n            title: $title\n            type: $type\n            description: $description\n        ) {\n            id\n        }\n    }\n"]))),ft=Object(L.a)(g||(g=Object(v.a)(["\n    mutation DeleteSection($sectionId: ID!) {\n        deleteSection(sectionId: $sectionId)\n    }\n"])));t.default=function(){var e,t=Object(D.i)(),n=Object(D.g)(),a=rt(),i=Object(z.a)(dt),c=Object(O.a)(i,2),s=c[0],o=c[1],l=o.loading,r=(o.error,o.data),d=Object(R.a)(ut),u=Object(O.a)(d,2),b=u[0],j=u[1],h=j.loading,p=(j.error,j.data),g=Object(R.a)(bt,{refetchQueries:[dt]}),v=Object(O.a)(g,2),x=v[0],L=v[1],E=(L.loading,L.error,Object(R.a)(jt,{refetchQueries:[dt]})),q=Object(O.a)(E,2),P=q[0],W=q[1],_=(W.loading,W.error,Object(R.a)(pt,{refetchQueries:[dt]})),A=Object(O.a)(_,2),M=A[0],Q=A[1],F=(Q.loading,Q.error,Object(R.a)(ht)),H=Object(O.a)(F,2),V=H[0],Y=H[1],G=(Y.loading,Y.error,Object(R.a)(gt,{refetchQueries:[dt]})),J=Object(O.a)(G,2),K=J[0],X=J[1],Z=(X.loading,X.error,Object(R.a)(mt,{refetchQueries:[dt]})),ee=Object(O.a)(Z,2),te=ee[0],ne=ee[1],ae=(ne.loading,ne.error,Object(R.a)(Ot,{refetchQueries:[dt]})),ce=Object(O.a)(ae,2),oe=ce[0],le=ce[1],re=(le.loading,le.error,Object(R.a)(vt,{refetchQueries:[dt]})),de=Object(O.a)(re,2),ue=de[0],je=de[1],he=(je.loading,je.error,Object(R.a)(ft,{refetchQueries:[dt]})),pe=Object(O.a)(he,2),ge=pe[0],me=pe[1],Oe=(me.loading,me.error,Object(f.useMemo)((function(){return(null===r||void 0===r?void 0:r.getCourseById)||{requirements:[],objectives:[],targets:[],resources:[],chapters:[]}}),[null===r||void 0===r?void 0:r.getCourseById])),ve=Object($.b)(),fe=Object(f.useRef)(!1);Object(f.useEffect)((function(){var e;("new"!==t.id||fe.current||h||b(),"new"!==t.id&&(null===Oe||void 0===Oe?void 0:Oe.id)!==t.id&&s({variables:{courseId:t.id}}),fe.current&&!h)&&n.push("/courses/".concat(null===p||void 0===p||null===(e=p.createCourse)||void 0===e?void 0:e.id,"/details"));fe.current=h}),[b,h,Oe,null===Oe||void 0===Oe?void 0:Oe.id,s,n,t.id,null===p||void 0===p||null===(e=p.createCourse)||void 0===e?void 0:e.id]);var xe=Object(f.useCallback)((function(){n.push("/courses")}),[n]),Ce=Object(f.useCallback)((function(){n.push("/courses/".concat(null===Oe||void 0===Oe?void 0:Oe.id,"/curriculum"))}),[null===Oe||void 0===Oe?void 0:Oe.id,n]),ye=Object(f.useCallback)((function(){("public"===(null===Oe||void 0===Oe?void 0:Oe.status)?M:P)({variables:{courseId:null===Oe||void 0===Oe?void 0:Oe.id}})}),[Oe,P,M]),Ne=Object(f.useCallback)((function(){ve({title:"Are you sure you want to delete the course?",description:'You cannot restore it once you delete. This action will permanently delete "'.concat((null===Oe||void 0===Oe?void 0:Oe.title)||"<anonymous chapter>",'", including its chapters.'),confirmationText:"Yes, I understand. Delete anyway.",confirmationButtonProps:{color:"secondary",variant:"contained"}}).then((function(){V({variables:{courseId:Oe.id}}),n.push("/courses")}))}),[ve,Oe.id,null===Oe||void 0===Oe?void 0:Oe.title,V,n]),ke=Object(f.useCallback)((function(e){x({variables:e})}),[x]),Se=Object(f.useCallback)((function(e){K({variables:e})}),[K]),Ie=Object(f.useCallback)((function(e){te({variables:e})}),[te]),we=Object(f.useCallback)((function(e){oe({variables:{chapterId:e}})}),[oe]),Te=Object(f.useCallback)((function(e){ue({variables:e})}),[ue]),De=Object(f.useCallback)((function(e,t){ge({variables:{sectionId:t}})}),[ge]);return"new"===t.id||h||!Oe||l?Object(U.jsx)("div",{className:a.suspense,children:Object(U.jsx)(C.a,{size:"48px"})}):Object(U.jsxs)("div",{className:a.root,children:[Object(U.jsx)("div",{className:a.top,children:Object(U.jsx)(y.a,{position:"sticky",children:Object(U.jsx)(N.a,{className:a.toolbar,children:Object(U.jsxs)("div",{className:a.toolbarContent,children:[Object(U.jsxs)(k.a,{separator:"\u203a",children:[Object(U.jsx)(S.a,{color:"inherit",onClick:xe,className:a.link,children:"Courses"}),!(null===Oe||void 0===Oe?void 0:Oe.title)&&Object(U.jsx)(I.a,{color:"textPrimary",children:"New Course"}),(null===Oe||void 0===Oe?void 0:Oe.title)&&Object(U.jsx)(S.a,{color:"inherit",onClick:Ce,className:a.link,children:null===Oe||void 0===Oe?void 0:Oe.title})]}),Object(U.jsxs)("div",{className:a.toolbarActions,children:[Object(U.jsxs)(w.a,{color:"inherit",onClick:ye,className:a.action,children:[Object(U.jsx)(T.a,{className:a.actionIcon,fontSize:"small",children:"publish"}),"public"===(null===Oe||void 0===Oe?void 0:Oe.status)?"Unpublish":"Publish"]}),Object(U.jsxs)(w.a,{color:"inherit",onClick:Ne,className:a.action,children:[Object(U.jsx)(T.a,{className:a.actionIcon,fontSize:"small",children:"delete"}),"Delete"]})]})]})})})}),Object(U.jsxs)("div",{className:a.bottom,children:[Object(U.jsx)("div",{className:a.navigation,children:Object(U.jsx)(B,{id:Oe.id})}),Object(U.jsx)("div",{className:a.container,children:Object(U.jsxs)(D.d,{children:[Object(U.jsx)(D.b,{exact:!0,path:"/courses/:id/details",children:Object(U.jsx)(ie,Object(m.a)(Object(m.a)({},Oe),{},{updating:!1,onUpdate:ke}))}),Object(U.jsx)(D.b,{exact:!0,path:"/courses/:id/audience",children:Object(U.jsx)(se,Object(m.a)(Object(m.a)({},Oe),{},{updating:!1,onUpdate:ke}))}),Object(U.jsx)(D.b,{exact:!0,path:"/courses/:id/pricing",children:Object(U.jsx)(be,Object(m.a)(Object(m.a)({},Oe),{},{updating:!1,onUpdate:ke}))}),Object(U.jsx)(D.b,{exact:!0,path:"/courses/:id/curriculum",children:Object(U.jsx)(Le,Object(m.a)(Object(m.a)({},Oe),{},{courseId:Oe.id,onUpdateChapter:Ie,onCreateChapter:Se,onDeleteChapter:we,onCreateSection:Te,onDeleteSection:De}))}),Object(U.jsx)(D.b,{exact:!0,path:"/courses/:id/promotions",children:Object(U.jsx)(qe,{})}),Object(U.jsx)(D.b,{exact:!0,path:"/courses/:courseId/chapters/:chapterId/sections/:sectionId/edit",children:Object(U.jsx)(lt,{})}),Object(U.jsx)(D.a,{to:"/courses/".concat(t.id,"/details")})]})})]})]})}}}]);
//# sourceMappingURL=10.3afcd519.chunk.js.map